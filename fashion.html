<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#111111">
<title>Fashion ‚Äì T-Shirts | HarmaalWale</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;900&family=Barlow:wght@400;500&display=swap" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;900&family=Barlow:wght@400;500&display=swap" rel="stylesheet"></noscript>
<style>:root{--orange:#E87000;--orange-light:#FF8C1A;--black:#111;--dark:#1a1a1a;--gray:#2e2e2e;--light:#f7f7f7;--white:#fff;--muted:#888;}*{margin:0;padding:0;box-sizing:border-box;}body{font-family:'Barlow',sans-serif;background:var(--white);color:var(--black);overflow-x:hidden;}header{position:sticky;top:0;z-index:100;background:var(--black);padding:0 40px;display:flex;align-items:center;justify-content:space-between;height:70px;box-shadow:0 2px 20px rgba(0,0,0,0.4);}.logo img{height:44px;display:block;}.header-right{display:flex;align-items:center;gap:20px;}.header-search{display:flex;align-items:center;background:var(--gray);border-radius:6px;overflow:hidden;border:1px solid #3a3a3a;}.header-search input{background:none;border:none;outline:none;padding:9px 16px;color:#fff;font-family:'Barlow',sans-serif;font-size:14px;width:220px;}.header-search input::placeholder{color:#666;}.header-search button{background:var(--orange);border:none;padding:9px 14px;cursor:pointer;color:#fff;font-size:15px;}.header-icons{display:flex;align-items:center;gap:6px;}.icon-btn{background:none;border:none;cursor:pointer;color:#aaa;width:42px;height:42px;border-radius:10px;display:flex;align-items:center;justify-content:center;position:relative;transition:background 0.2s,color 0.2s;}.icon-btn:hover{background:rgba(232,112,0,0.12);color:#E87000;}.icon-btn svg{pointer-events:none;}.badge{position:absolute;top:5px;right:5px;background:#E87000;color:#fff;font-size:9px;font-weight:700;min-width:16px;height:16px;border-radius:8px;padding:0 3px;display:flex;align-items:center;justify-content:center;pointer-events:none;}.search-btn{background:#E87000;border:none;padding:9px 15px;cursor:pointer;color:#fff;display:flex;align-items:center;justify-content:center;transition:background 0.2s;}.search-btn:hover{background:#FF8C1A;}.back-home{display:flex;align-items:center;gap:6px;color:#888;font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;letter-spacing:1px;text-transform:uppercase;text-decoration:none;border:1px solid #333;padding:7px 14px;border-radius:5px;transition:all 0.2s;}.back-home:hover{border-color:var(--orange);color:var(--orange);}.breadcrumb{background:var(--light);padding:12px 60px;font-size:13px;color:var(--muted);border-bottom:1px solid #eee;}.breadcrumb a{color:var(--orange);text-decoration:none;}.breadcrumb span{margin:0 8px;}.fashion-hero{background:var(--black);padding:50px 60px;display:flex;align-items:center;justify-content:space-between;position:relative;overflow:hidden;min-height:220px;}.fashion-hero::before{content:'';position:absolute;right:-100px;top:-100px;width:450px;height:450px;background:radial-gradient(circle,rgba(232,112,0,0.12) 0%,transparent 65%);border-radius:50%;}.fashion-hero::after{content:'';position:absolute;left:40%;bottom:-80px;width:300px;height:300px;background:radial-gradient(circle,rgba(255,100,150,0.08) 0%,transparent 65%);border-radius:50%;}.hero-text{position:relative;z-index:2;}.hero-cat{font-family:'Barlow Condensed',sans-serif;font-size:12px;font-weight:700;letter-spacing:3px;text-transform:uppercase;color:var(--orange);margin-bottom:10px;}.hero-title{font-family:'Barlow Condensed',sans-serif;font-size:72px;font-weight:900;text-transform:uppercase;color:#fff;line-height:0.88;margin-bottom:16px;}.hero-title span{color:var(--orange);}.hero-desc{color:#777;font-size:15px;line-height:1.7;max-width:440px;}.hero-badges{display:flex;gap:10px;margin-top:20px;flex-wrap:wrap;}.hero-badge{background:#1e1e1e;border:1px solid #333;color:#aaa;padding:6px 14px;border-radius:5px;font-size:12px;font-family:'Barlow Condensed',sans-serif;font-weight:600;letter-spacing:0.5px;text-transform:uppercase;}.hero-emoji{font-size:100px;position:relative;z-index:2;opacity:0.85;filter:drop-shadow(0 10px 30px rgba(232,112,0,0.3));}.filter-bar{display:flex;align-items:center;justify-content:space-between;padding:20px 60px;border-bottom:1px solid #eee;flex-wrap:wrap;gap:14px;}.filter-left{display:flex;align-items:center;gap:10px;flex-wrap:wrap;}.filter-label{font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--muted);}.filter-btn{background:none;border:1px solid #ddd;color:var(--black);padding:7px 16px;border-radius:20px;font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:600;letter-spacing:0.5px;text-transform:uppercase;cursor:pointer;transition:all 0.2s;}.filter-btn:hover,.filter-btn.active{background:var(--orange);border-color:var(--orange);color:#fff;}.results-count{font-size:13px;color:var(--muted);}.results-count strong{color:var(--black);}.products-wrap{padding:40px 60px 60px;}.products-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:24px;}.prod-card{background:var(--white);border:1px solid #ebebeb;border-radius:12px;overflow:hidden;cursor:pointer;transition:all 0.3s;position:relative;}.prod-card:hover{transform:translateY(-6px);box-shadow:0 20px 50px rgba(0,0,0,0.1);border-color:#ddd;}.prod-img{height:220px;background:linear-gradient(135deg,#f0f0f0,#e8e8e8);display:flex;align-items:center;justify-content:center;font-size:70px;position:relative;overflow:hidden;}.prod-img-bg{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;}.prod-color-swatch{position:absolute;bottom:12px;right:12px;width:20px;height:20px;border-radius:50%;border:2px solid rgba(255,255,255,0.8);box-shadow:0 2px 6px rgba(0,0,0,0.15);}.size-tag{position:absolute;top:10px;left:10px;background:rgba(0,0,0,0.7);color:#fff;font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;padding:3px 9px;border-radius:4px;}.fabric-tag{position:absolute;top:10px;right:10px;background:var(--orange);color:#fff;font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:0.5px;text-transform:uppercase;padding:3px 9px;border-radius:4px;}.prod-body{padding:16px 18px 18px;}.prod-name{font-family:'Barlow Condensed',sans-serif;font-size:18px;font-weight:800;text-transform:uppercase;margin-bottom:6px;line-height:1.1;color:var(--black);}.prod-desc{font-size:12px;color:var(--muted);line-height:1.55;margin-bottom:14px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}.prod-specs{display:grid;grid-template-columns:1fr 1fr;gap:5px 12px;margin-bottom:14px;}.spec-item{font-size:11px;color:#aaa;display:flex;justify-content:space-between;}.spec-item strong{color:#555;font-weight:600;}.prod-footer{display:flex;align-items:center;justify-content:space-between;border-top:1px solid #f0f0f0;padding-top:12px;}.prod-size-badge{background:var(--light);border:1px solid #e5e5e5;padding:4px 12px;border-radius:4px;font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;color:#555;letter-spacing:0.5px;}.enquire-btn{background:var(--orange);color:#fff;border:none;padding:8px 18px;border-radius:5px;font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;letter-spacing:0.8px;text-transform:uppercase;cursor:pointer;transition:all 0.2s;}.enquire-btn:hover{background:var(--orange-light);}.overlay-backdrop{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.8);z-index:999;backdrop-filter:blur(5px);align-items:center;justify-content:center;padding:20px;}.overlay-backdrop.open{display:flex;}.detail-modal{background:#fff;border-radius:16px;width:100%;max-width:760px;max-height:90vh;overflow-y:auto;position:relative;animation:modalIn 0.3s cubic-bezier(0.34,1.56,0.64,1);}@keyframes modalIn{from{opacity:0;transform:scale(0.9) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}.modal-close{position:absolute;top:16px;right:16px;background:#f5f5f5;border:none;width:34px;height:34px;border-radius:50%;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.2s;z-index:5;}.modal-close:hover{background:#eee;}.detail-inner{display:grid;grid-template-columns:1fr 1fr;}.detail-img{height:380px;background:linear-gradient(135deg,#f5f5f5,#ebebeb);display:flex;align-items:center;justify-content:center;font-size:100px;border-radius:16px 0 0 16px;}.detail-info{padding:36px 32px;}.detail-tag{font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--orange);margin-bottom:8px;}.detail-name{font-family:'Barlow Condensed',sans-serif;font-size:36px;font-weight:900;text-transform:uppercase;line-height:1;margin-bottom:14px;}.detail-desc{font-size:13px;color:#666;line-height:1.7;margin-bottom:22px;}.detail-specs-title{font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--muted);margin-bottom:12px;}.detail-specs-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px 16px;margin-bottom:24px;}.detail-spec{background:var(--light);border-radius:6px;padding:8px 12px;}.detail-spec .skey{font-size:10px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:#aaa;margin-bottom:2px;}.detail-spec .sval{font-family:'Barlow Condensed',sans-serif;font-size:16px;font-weight:700;color:var(--black);}.detail-fabric{display:inline-flex;align-items:center;gap:6px;background:rgba(232,112,0,0.1);border:1px solid rgba(232,112,0,0.25);color:var(--orange);padding:7px 14px;border-radius:6px;font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;letter-spacing:0.5px;text-transform:uppercase;margin-bottom:22px;}.detail-enquire{width:100%;background:var(--orange);color:#fff;border:none;padding:14px;border-radius:7px;font-family:'Barlow Condensed',sans-serif;font-size:16px;font-weight:700;letter-spacing:1px;text-transform:uppercase;cursor:pointer;transition:all 0.2s;}.detail-enquire:hover{background:var(--orange-light);}.page-footer{background:var(--black);color:#444;padding:24px 60px;display:flex;justify-content:space-between;align-items:center;font-size:12px;border-top:1px solid #1a1a1a;}.page-footer a{color:var(--orange);text-decoration:none;}@media(max-width:1100px){.products-grid{grid-template-columns:repeat(3,1fr)}}@media(max-width:800px){.products-grid{grid-template-columns:repeat(2,1fr)}.fashion-hero{padding:36px 24px;flex-direction:column;gap:20px;text-align:center}.hero-title{font-size:52px}.filter-bar,.breadcrumb,.products-wrap{padding-left:20px;padding-right:20px}.detail-inner{grid-template-columns:1fr}.detail-img{border-radius:16px 16px 0 0;height:260px}}@media(max-width:500px){.products-grid{grid-template-columns:1fr}header{padding:0 16px}.header-search{display:none}}</style>
</head>
<body>

<header>
  <div class="logo" onclick="window.location.href='index.html'" style="cursor:pointer"><img src="logo.jpg" alt="HarmaalWale" loading="eager" fetchpriority="high"></div>
  <div class="header-right">
    <div class="header-search">
      <input type="text" id="searchInput" placeholder="Search products..." oninput="filterProducts()" onkeydown="if(event.key==='Enter')filterProducts()">
      <button class="search-btn" id="hw-search-btn" title="Search">
        <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="7"/><line x1="16.5" y1="16.5" x2="22" y2="22"/></svg>
      </button>
    </div>
    <div class="header-icons">
      <button class="icon-btn" id="hw-account-btn" title="My Account">
        <svg viewBox="0 0 24 24" width="22" height="22" stroke="currentColor" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 3.6-7 8-7s8 3 8 7"/></svg>
      </button>
      <button class="icon-btn" id="hw-wishlist-btn" title="Wishlist">
        <svg viewBox="0 0 24 24" width="22" height="22" stroke="currentColor" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 21l7.8-7.8 1-1a5.5 5.5 0 0 0 0-7.8z"/></svg>
        <span class="badge" id="hw-wish-badge" style="display:none"></span>
      </button>
      <button class="icon-btn" id="hw-cart-btn" title="Cart">
        <svg viewBox="0 0 24 24" width="22" height="22" stroke="currentColor" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
        <span class="badge" id="hw-cart-badge" style="display:none"></span>
      </button>
      <a href="support.html" style="color:#888;font-size:12px;font-weight:600;letter-spacing:1px;text-transform:uppercase;text-decoration:none;border:1px solid #2a2a2a;padding:6px 12px;border-radius:5px;transition:color .2s,background .2s,border-color .2s,transform .2s" onmouseover="this.style.color='#E87000';this.style.borderColor='#E87000'" onmouseout="this.style.color='#888';this.style.borderColor='#2a2a2a'">Help</a>
      <a href="index.html" class="back-home">‚Üê Home</a>
    </div>
  </div>
</header>

<div class="breadcrumb">
  <a href="index.html">Home</a><span>‚Ä∫</span>
  <a href="#">Fashion</a><span>‚Ä∫</span>
  T-Shirts &amp; Shirts
</div>

<div class="fashion-hero">
  <div class="hero-text">
    <div class="hero-cat">‚óè Fashion ‚Äî New Collection</div>
    <h1 class="hero-title">Jaipuri<br><span>Shirts</span></h1>
    <p class="hero-desc">Hand-crafted cotton shirts with traditional Jaipuri prints. Spread collar, button placket, curved hem ‚Äî comfort meets culture.</p>
    <div class="hero-badges">
      <span class="hero-badge">100% Cotton</span>
      <span class="hero-badge">Jaipuri Print</span>
      <span class="hero-badge">Sizes M ‚Äì 4XL</span>
      <span class="hero-badge">14 Designs</span>
    </div>
  </div>
  <div class="hero-emoji">üëï</div>
</div>

<div class="filter-bar">
  <div class="filter-left">
    <span class="filter-label">Filter by Size:</span>
    <button class="filter-btn active" onclick="filterSize('ALL',this)">All</button>
    <button class="filter-btn" onclick="filterSize('M',this)">M</button>
    <button class="filter-btn" onclick="filterSize('L',this)">L</button>
    <button class="filter-btn" onclick="filterSize('XL',this)">XL</button>
    <button class="filter-btn" onclick="filterSize('XXL',this)">XXL</button>
    <button class="filter-btn" onclick="filterSize('4XL',this)">4XL</button>
  </div>
  <div class="results-count">Showing <strong id="countDisplay">14</strong> products</div>
</div>

<div class="products-wrap">
  <div class="products-grid" id="productGrid"></div>
</div>

<!-- DETAIL MODAL -->
<div class="overlay-backdrop" id="detailOverlay" onclick="handleBackdrop(event)">
  <div class="detail-modal" id="detailModal">
    <button class="modal-close" onclick="closeDetail()">‚úï</button>
    <div class="detail-inner">
      <div class="detail-img" id="detailImg"></div>
      <div class="detail-info">
        <div class="detail-tag">üëï HarmaalWale Fashion</div>
        <div class="detail-name" id="detailName"></div>
        <div class="detail-fabric" id="detailFabric"></div>
        <p class="detail-desc" id="detailDesc"></p>
        <div class="detail-specs-title">Measurements</div>
        <div class="detail-specs-grid" id="detailSpecs"></div>
        <button class="detail-enquire" onclick="enquire()">üìû Enquire Now</button>
      </div>
    </div>
  </div>
</div>

<div class="page-footer">
  <span>¬© 2025 HarmaalWale. All rights reserved.</span>
  <a href="index.html">‚Üê Back to Home</a>
</div>

<script>
const products = [
  { name:"Sky Blue Lining",      size:"XL",  shoulder:"18\"", neck:"16\"", sleeve:"9\"",   length:"29\"", chest:"42\"", fabric:"Cotton", desc:"Blue Lining casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#87CEEB", bg:"linear-gradient(135deg,#c8e8f5,#a0d4ee)" },
  { name:"Red Print",             size:"L",   shoulder:"18\"", neck:"16\"", sleeve:"9\"",   length:"29\"", chest:"40\"", fabric:"Cotton", desc:"Red Jaipuri casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#e74c3c", bg:"linear-gradient(135deg,#f5c0bb,#eda09a)" },
  { name:"Pink Lining",           size:"M",   shoulder:"17\"", neck:"16\"", sleeve:"8.5\"", length:"28\"", chest:"38\"", fabric:"Cotton", desc:"Pink Lining casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#FF69B4", bg:"linear-gradient(135deg,#fcd6e8,#f5b3d3)", img:"pink_stripes.jpg" },
  { name:"Dark Blue Flower Print",size:"XXL", shoulder:"19\"", neck:"17\"", sleeve:"9.5\"", length:"29\"", chest:"44\"", fabric:"Cotton", desc:"Dark Blue Floral print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#1a3a6e", bg:"linear-gradient(135deg,#b0c0dc,#8aa0c8)" },
  { name:"Light Blue Dotted",     size:"XXL", shoulder:"19\"", neck:"17\"", sleeve:"9.5\"", length:"29\"", chest:"44\"", fabric:"Cotton", desc:"Light Blue Dotted Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#ADD8E6", bg:"linear-gradient(135deg,#d0ecf8,#b5dff2)", img:"blue_dotted.jpg" },
  { name:"Cyan Duck Print",       size:"M",   shoulder:"17\"", neck:"16\"", sleeve:"8.5\"", length:"28\"", chest:"38\"", fabric:"Cotton", desc:"Cyan Duck Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#00BCD4", bg:"linear-gradient(135deg,#b2ecf5,#85e0ef)" },
  { name:"Cream Camel Print",     size:"XL",  shoulder:"18\"", neck:"16\"", sleeve:"9\"",   length:"29\"", chest:"42\"", fabric:"Cotton", desc:"Cream Camel Jaipuri Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#F5DEB3", bg:"linear-gradient(135deg,#f5ebcf,#ede0b5)" },
  { name:"Cream Elephant Print",  size:"XL",  shoulder:"18\"", neck:"16\"", sleeve:"9\"",   length:"29\"", chest:"42\"", fabric:"Cotton", desc:"Cream Elephant Jaipuri Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#FAEBD7", bg:"linear-gradient(135deg,#f7ead8,#eedfc5)" },
  { name:"Off White Owl",         size:"M",   shoulder:"17\"", neck:"16\"", sleeve:"8.5\"", length:"28\"", chest:"38\"", fabric:"Cotton", desc:"Off White Owl Jaipuri Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#FAF0E6", bg:"linear-gradient(135deg,#f5ede0,#ece0cc)" },
  { name:"Mustard Flower",        size:"XL",  shoulder:"18\"", neck:"16\"", sleeve:"9\"",   length:"29\"", chest:"42\"", fabric:"Cotton", desc:"Mustard Flower Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#DAA520", bg:"linear-gradient(135deg,#f5e0a0,#ecd080)" },
  { name:"Dark Green Mosiac Camel",size:"L",  shoulder:"18\"", neck:"16\"", sleeve:"9\"",   length:"29\"", chest:"40\"", fabric:"Cotton", desc:"Dark Green Mosaic Camel Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#2d6a4f", bg:"linear-gradient(135deg,#a8d5b8,#80c49a)" },
  { name:"Dark Blue Flower Print",size:"XXL", shoulder:"19\"", neck:"17\"", sleeve:"9.5\"", length:"29\"", chest:"44\"", fabric:"Cotton", desc:"Dark Blue Flower Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#1a3a6e", bg:"linear-gradient(135deg,#b0c0dc,#8aa0c8)" },
  { name:"Mustard Elephant",      size:"4XL", shoulder:"20\"", neck:"18\"", sleeve:"10.5\"",length:"31.5\"",chest:"52\"", fabric:"Cotton", desc:"Mustard Elephant Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#DAA520", bg:"linear-gradient(135deg,#f5e0a0,#ecd080)" },
  { name:"Beige Elephant",        size:"XXL", shoulder:"19\"", neck:"17\"", sleeve:"9.5\"", length:"29\"", chest:"44\"", fabric:"Cotton", desc:"Beige Elephant Print casual shirt, has a spread collar, button placket, 1 patch pocket, short regular sleeves, curved hem.", emoji:"üëï", color:"#D2B48C", bg:"linear-gradient(135deg,#e8d5ba,#ddc8a5)" },
];

let activeSize = 'ALL';
let currentProduct = null;

function renderGrid(list) {
  const grid = document.getElementById('productGrid');
  document.getElementById('countDisplay').textContent = list.length;
  grid.innerHTML = list.map((p, i) => `
    <div class="prod-card" onclick="openDetail(${products.indexOf(p)})">
      <div class="prod-img" style="background:${p.bg}">
        <span style="font-size:72px;filter:drop-shadow(0 4px 12px rgba(0,0,0,0.15))">${p.emoji}</span>
        <span class="size-tag">${p.size}</span>
        <span class="fabric-tag">${p.fabric}</span>
        <span class="prod-color-swatch" style="background:${p.color}"></span>
      </div>
      <div class="prod-body">
        <div class="prod-name">${p.name}</div>
        <div class="prod-desc">${p.desc}</div>
        <div class="prod-specs">
          <div class="spec-item"><span>Chest</span><strong>${p.chest}</strong></div>
          <div class="spec-item"><span>Shoulder</span><strong>${p.shoulder}</strong></div>
          <div class="spec-item"><span>Length</span><strong>${p.length}</strong></div>
          <div class="spec-item"><span>Sleeve</span><strong>${p.sleeve}</strong></div>
        </div>
        <div class="prod-footer">
          <span class="prod-size-badge">Size: ${p.size}</span>
          <button class="enquire-btn" onclick="event.stopPropagation();enquireProduct(${products.indexOf(p)})">Enquire</button>
        </div>
      </div>
    </div>
  `).join('');
}

function filterSize(size, btn) {
  activeSize = size;
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  applyFilters();
}

function filterProducts() {
  applyFilters();
}

function applyFilters() {
  const q = document.getElementById('searchInput').value.toLowerCase();
  let list = products;
  if (activeSize !== 'ALL') list = list.filter(p => p.size === activeSize);
  if (q) list = list.filter(p => p.name.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q));
  renderGrid(list);
}

function openDetail(idx) {
  const p = products[idx];
  currentProduct = p;
  if (p.img) {
    document.getElementById('detailImg').style.cssText = 'background:#111;padding:0;overflow:hidden;';
    document.getElementById('detailImg').innerHTML = `<img src="${p.img}" alt="${p.name}" style="width:100%;height:100%;object-fit:cover;border-radius:16px 0 0 16px;">`;
  } else {
    document.getElementById('detailImg').style.cssText = `background:${p.bg};`;
    document.getElementById('detailImg').innerHTML = `<span style="font-size:110px;filter:drop-shadow(0 6px 20px rgba(0,0,0,0.15))">${p.emoji}</span>`;
  }
  document.getElementById('detailName').textContent = p.name;
  document.getElementById('detailFabric').innerHTML = `üßµ ${p.fabric}`;
  document.getElementById('detailDesc').textContent = p.desc;
  document.getElementById('detailSpecs').innerHTML = [
    ['Size', p.size], ['Chest', p.chest], ['Shoulder', p.shoulder],
    ['Neck', p.neck], ['Sleeve', p.sleeve], ['Length', p.length]
  ].map(([k,v]) => `<div class="detail-spec"><div class="skey">${k}</div><div class="sval">${v}</div></div>`).join('');
  document.getElementById('detailOverlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeDetail() {
  document.getElementById('detailOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

function handleBackdrop(e) {
  if (e.target === document.getElementById('detailOverlay')) closeDetail();
}

document.addEventListener('keydown', e => { if (e.key === 'Escape') closeDetail(); });

function enquire() {
  if (currentProduct) {
    const idx = products.indexOf(currentProduct);
    // If backend connected, add to cart; else WhatsApp
    enquireProduct(idx);
  }
}

function enquireProduct(idx) {
  const p = products[idx];
  const msg = `Hi! I'm interested in the "${p.name}" shirt (Size: ${p.size}, Chest: ${p.chest}). Please share more details.`;
  window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`, '_blank');
}

renderGrid(products);
</script>

<script>
// Search from URL param
window.addEventListener('DOMContentLoaded', () => {
  const p = new URLSearchParams(window.location.search);
  const q = p.get('search');
  if (q) {
    const inp = document.getElementById('searchInput') || document.querySelector('input[placeholder*="Search"]');
    if (inp) { inp.value = q; filterProducts && filterProducts(); }
  }
});

// Add to wishlist from modal
function addCurrentToWishlist() {
  if (!currentProduct) return;
  const idx = products.indexOf(currentProduct);
  // Use DB id if available, otherwise use index+1
  HW.addToWishlist(idx+1, currentProduct.name);
}
function addCurrentToCart() {
  if (!currentProduct) return;
  const idx = products.indexOf(currentProduct);
  HW.addToCart(idx+1, currentProduct.name);
}
</script>

<script src="auth_widget.js"></script>
</body>
</html>
