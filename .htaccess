Options -Indexes
DirectoryIndex index.html index.php

# ── GZIP COMPRESSION ──────────────────────────────────────────
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/css text/javascript application/javascript application/json text/xml application/xml text/plain image/svg+xml
</IfModule>

# ── BROWSER CACHING ───────────────────────────────────────────
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpeg              "access plus 1 month"
  ExpiresByType image/png               "access plus 1 month"
  ExpiresByType image/webp              "access plus 1 month"
  ExpiresByType image/svg+xml           "access plus 1 month"
  ExpiresByType text/css                "access plus 1 week"
  ExpiresByType application/javascript  "access plus 1 week"
  ExpiresByType text/javascript         "access plus 1 week"
  ExpiresByType text/html               "access plus 1 hour"
</IfModule>

<IfModule mod_headers.c>
  <FilesMatch "\.(jpg|jpeg|png|webp|svg|gif)$">
    Header set Cache-Control "public, max-age=2592000"
  </FilesMatch>
  <FilesMatch "\.(css|js)$">
    Header set Cache-Control "public, max-age=604800"
  </FilesMatch>
  # Security headers
  Header always set X-Content-Type-Options "nosniff"
  Header always set X-Frame-Options "SAMEORIGIN"
</IfModule>

# ── URL REWRITING ─────────────────────────────────────────────
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^api/(.*)$ api/$1 [L]
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]
  RewriteRule ^ index.html [L]
</IfModule>
